<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link id=favicon rel=icon type=image/x-icon href=/img/favicon.ico><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/github-markdown.min.css><link rel=stylesheet href=/css/addon.css><meta name=referrer content="no-referrer"><script src=https://unpkg.com/zooming/build/zooming.min.js></script><script>document.addEventListener('DOMContentLoaded',function(){new Zooming({scaleExtra:0.6,}).listen('.img-zoomable')})</script><style>@font-face{font-family:notosanssc;src:url(/css/NotoSansSC-Thin.ttf)}@font-face{font-family:roboto;src:url(/css/Roboto-Regular.ttf)}*{font-family:roboto,notosanssc!important}</style><title>我爱ETF</title></head><body><header id=header><nav class=topnav id=myTopNav><ol><li><a href=/>首页</a></li><li><a href=/dash/>市场仪表盘</a></li><li><a href=/books/>投资书单</a></li><li><a href=/funds/>精选基金</a></li><li><a href=/tools/>量化工具</a></li><li><a href=/tags/>词云</a></li><li><a href=/blog/>博客</a></li><li><a href=/about/>关于</a></li></ol></nav></header><main id=main><article id=markdown-body><h1>PyQt开发笔记（五）登录窗口</h1><h3>Tuesday, Jun 2, 2020</h3><p><p>如何开发一个类似微信和QQ的登录提示框，用于验证或者预制输入（例如选择语言、代理服务器等）。</p><p>我们只看简单的逻辑实现，至于修饰图片、大小和布局不再本文讨论范围。</p><h2 id=控制窗口的创建和显示>控制窗口的创建和显示</h2><p>我们知道最简单的窗口是这样子的。</p><pre><code>from PySide2.QtWidgets import QApplication, QMainWindow
app = QApplication(sys.argv) #主线程Application
window = MainWindow() # 窗口
window.show()
sys.exit(app.exec_())
</code></pre><p>这里面的show()是控制窗口显示的，类似还有close()</p><p>我们只要创建两个窗口，第一个close()，第二个show()就可以实现效果。</p><h2 id=登录框的实现>登录框的实现</h2><pre><code>from PySide2.QtWidgets import QApplication, QMainWindow
app = QApplication(sys.argv) #主线程Application
loginwindow = MainWindow() # 窗口
loginwindow.show()
sys.exit(app.exec_())
</code></pre><p>加入密码判断逻辑</p><pre><code>from PySide2.QtUiTools import QUiLoader
from PySide2.QtCore import QFile

loginUi = QUiLoader.load(QFile('uilogin.ui'))
loginUi.show()
loginUi.btn.connect(verify)

from PySide2.QtCore improt Slot

@Slot #记得我们前面讨论过任何函数都可以被装饰城Slot接受函数
def verify():
    if loginUi.password_LineTextEdit.text() == 'balabalala':
        #密码对
        loginUi.close() #关闭登录，开启主界面
        window = QMainWindow()
        window.show() 
    else:
        from PySide2.QtWidgets import QMessageBox
        msg = QMessageBox()
        msg.setText(&quot;密码错误&quot;)
        msgBox.exec()
</code></pre><h2 id=尾声>尾声</h2><p>登录窗口的逻辑比较简单，创建窗口，摧毁窗口，创建下一个窗口。</p><p>实际代码会把Login单独写一个Ui，单独写一个逻辑判断。做到Ui和逻辑分离。另外为了不依赖主窗口，还可以把NextWindow要创建的窗口作为初始化参数，判断成功后，直接显示NextWindow。</p></p></div></article><article id=article_tags><a class=item__tag href=/tags/pyqt>#PyQt</a>
<a class=item__tag href=/tags/pyside2>#PySide2</a></article><div style=text-align:center><img src=/img/weixin.jpg width=110px;><p>扫码关注：<strong>结丹记事本儿</strong>，更新有提醒</p></div><article id=article_nav><a href=http://52etf.net/blog/2020-06-03-%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E7%9A%84markdown%E6%8E%92%E7%89%88%E5%B7%A5%E5%85%B7/>新一篇：用Markdown来渲染微信公众号排版</a>
<a href=http://52etf.net/blog/2020-06-02-%E6%9C%89%E4%BA%BA%E8%AF%B4%E4%B8%BB%E5%8A%A8%E5%9F%BA%E9%87%91%E7%9A%84%E5%9D%8F%E8%AF%9D%E6%88%91%E8%A1%A5%E5%85%85%E5%87%A0%E5%8F%A5/>老一篇：主动基的一些缺陷以及如何规避</a> &nbsp;</article><article class=single><h3>推荐阅读:</h3><ul><li><a href=/blog/2020-06-01-pyqt%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%E4%B8%89%E5%A4%9A%E7%BA%BF%E7%A8%8B/>PyQt开发笔记（三）多线程</a></li><li><a href=/blog/2020-06-01-pyqt%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%E5%9B%9B%E9%80%9A%E7%94%A8worker/>PyQt开发笔记（四）通用的Worker</a></li><li><a href=/blog/2020-05-31-pyqt%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%E4%BA%8C-/>PyQt开发笔记（二）</a></li><li><a href=/blog/2020-05-15-pyqt%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%E4%B8%80/>PyQt开发笔记（一）</a></li></ul></article><script src=//unpkg.com/valine/dist/Valine.min.js></script><div id=vcomments></div><script>new Valine({el:'#vcomments',appId:'oc9Q6EXPyOTsTB1u3TF69zx5-gzGzoHsz',appKey:'K9hd59av2lhDkYwXfBGAHFdB',placeholder:'请您在评论时遵守国家法律法规，谢谢',visitor:false,})</script></main><footer id=footer><ul><li><a href=http://52etf.net>版权&copy;52etf.net</a></li><li><a href=https://creativecommons.org/licenses/by-sa/4.0/deed.zh>协议CC BY-SA 4.0</a></li><li><a href=http://www.beian.miit.gov.cn>豫ICP备20016066号</a></li></ul></footer></body></html>